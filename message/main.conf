{
	locales = ["en.html", "en.json"];

	messages = {
		form = Translation(
			f"views/%s/MessageAdd.%s", 
			locales = locales);

		messagefault = Translation(
			f"views/%s/BadMessage.%s", 
			locales = locales);

		passfault = Translation(
			f"views/%s/BadPassphrase.%s",
			locales = locales);

		done = Translation(
			f"views/%s/MessageSent.%s",
			locales = locales);
	};

	message = {
		add = DataWriter(
			f"queries/Add message.auto.sql"
		) {
			changed_1->messages.done;
		};

		view = Translation(f"views/%s/item.%s", locales = locales);
	};

	instances = {
		list = Translation(f"views/%s/list.%s", locales = locales) {
			items->DataReader(
				f"queries/Get message.auto.sql"
			) {
				iterator->message.view;
			};
		};

		add = PostFieldReader(
			field_message = "^.{3,300}$",
			field_passphrase = "^.{3,300}$",
		) {
			form->messages.form;
			message_failure->messages.messagefault;
			passphrase_failure->messages.passfault;
			successful->message.add;
		};
	};
}